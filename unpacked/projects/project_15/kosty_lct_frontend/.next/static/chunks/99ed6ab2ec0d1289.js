(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73246,e=>{"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.s(["createAISocket",()=>s,"createBPMSocket",()=>a,"createUCSocket",()=>o],73246);class n{connect(){var e;(null==(e=this.ws)?void 0:e.readyState)!==WebSocket.OPEN&&(this.isIntentionallyClosed=!1,this.ws=new WebSocket(this.url),this.ws.onopen=()=>{var e;console.log("[WebSocket] Connected to ".concat(this.url)),this.reconnectAttempts=0,null==(e=this.onStatusChange)||e.call(this,"open")},this.ws.onmessage=e=>{try{let t=JSON.parse(e.data);this.onMessage(t)}catch(e){console.error("[WebSocket] Failed to parse message:",e)}},this.ws.onerror=e=>{var t,n;console.error("[WebSocket] Error on ".concat(this.url,":"),e),null==(t=this.onError)||t.call(this,e),null==(n=this.onStatusChange)||n.call(this,"error")},this.ws.onclose=()=>{var e;console.log("[WebSocket] Disconnected from ".concat(this.url)),null==(e=this.onStatusChange)||e.call(this,"close"),this.isIntentionallyClosed||this.attemptReconnect()})}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts)return void console.error("[WebSocket] Max reconnect attempts (".concat(this.maxReconnectAttempts,") reached for ").concat(this.url));this.reconnectAttempts++,console.log("[WebSocket] Reconnecting to ".concat(this.url," (attempt ").concat(this.reconnectAttempts,"/").concat(this.maxReconnectAttempts,")...")),this.reconnectTimeout=setTimeout(()=>{this.connect()},this.reconnectInterval)}disconnect(){this.isIntentionallyClosed=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.ws&&(this.ws.close(),this.ws=null),this.reconnectAttempts=0}getReadyState(){var e,t;return null!=(t=null==(e=this.ws)?void 0:e.readyState)?t:null}isConnected(){var e;return(null==(e=this.ws)?void 0:e.readyState)===WebSocket.OPEN}constructor(e){var n,s;t(this,"ws",null),t(this,"url",void 0),t(this,"onMessage",void 0),t(this,"onError",void 0),t(this,"onStatusChange",void 0),t(this,"reconnectInterval",void 0),t(this,"maxReconnectAttempts",void 0),t(this,"reconnectAttempts",0),t(this,"reconnectTimeout",null),t(this,"isIntentionallyClosed",!1),this.url=e.url,this.onMessage=e.onMessage,this.onError=e.onError,this.onStatusChange=e.onStatusChange,this.reconnectInterval=null!=(n=e.reconnectInterval)?n:3e3,this.maxReconnectAttempts=null!=(s=e.maxReconnectAttempts)?s:5}}function s(e,t,s,a){return new n({url:e,onMessage:t,onError:s,onStatusChange:a})}function a(e,t,s,a){return new n({url:e,onMessage:t,onError:s,onStatusChange:a})}function o(e,t,s,a){return new n({url:e,onMessage:t,onError:s,onStatusChange:a})}},30235,e=>{"use strict";e.s(["appConfig",()=>t]);let t={name:"Hackaton LCT Frontend",version:"0.1.0",environment:"production",isUsingMock:!1,websocket:{ai:"ws://localhost:8000/ws/ai",bpm:"ws://localhost:8000/ws/bpm",uc:"ws://localhost:8000/ws/uc"},api:{baseUrl:"http://localhost:8000/api",patients:{recent:"http://localhost:8000/api/patients/recent",search:"http://localhost:8000/api/patients/search",create:"http://localhost:8000/api/patients"},studies:{recent:"http://localhost:8000/api/studies/recent"}}}},71470,e=>{"use strict";e.s(["ThemeProvider",()=>i,"useTheme",()=>l]);var t=e.i(27790),n=(e,t,n,s,a,o,r,c)=>{let l=document.documentElement,i=["light","dark"];function u(t){var n;(Array.isArray(e)?e:[e]).forEach(e=>{let n="class"===e,s=n&&o?a.map(e=>o[e]||e):a;n?(l.classList.remove(...s),l.classList.add(o&&o[t]?o[t]:t)):l.setAttribute(e,t)}),n=t,c&&i.includes(n)&&(l.style.colorScheme=n)}if(s)u(s);else try{let e=localStorage.getItem(t)||n,s=r&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(s)}catch(e){}},s=["light","dark"],a="(prefers-color-scheme: dark)",o="undefined"==typeof window,r=t.createContext(void 0),c={setTheme:e=>{},themes:[]},l=()=>{var e;return null!=(e=t.useContext(r))?e:c},i=e=>t.useContext(r)?t.createElement(t.Fragment,null,e.children):t.createElement(d,{...e}),u=["light","dark"],d=e=>{let{forcedTheme:n,disableTransitionOnChange:o=!1,enableSystem:c=!0,enableColorScheme:l=!0,storageKey:i="theme",themes:d=u,defaultTheme:v=c?"system":"light",attribute:g="data-theme",value:b,children:S,nonce:y,scriptProps:C}=e,[k,w]=t.useState(()=>m(i,v)),[M,A]=t.useState(()=>"system"===k?f():k),T=b?Object.values(b):d,E=t.useCallback(e=>{let t=e;if(!t)return;"system"===e&&c&&(t=f());let n=b?b[t]:t,a=o?p(y):null,r=document.documentElement,i=e=>{"class"===e?(r.classList.remove(...T),n&&r.classList.add(n)):e.startsWith("data-")&&(n?r.setAttribute(e,n):r.removeAttribute(e))};if(Array.isArray(g)?g.forEach(i):i(g),l){let e=s.includes(v)?v:null,n=s.includes(t)?t:e;r.style.colorScheme=n}null==a||a()},[y]),O=t.useCallback(e=>{let t="function"==typeof e?e(k):e;w(t);try{localStorage.setItem(i,t)}catch(e){}},[k]),I=t.useCallback(e=>{A(f(e)),"system"===k&&c&&!n&&E("system")},[k,n]);t.useEffect(()=>{let e=window.matchMedia(a);return e.addListener(I),I(e),()=>e.removeListener(I)},[I]),t.useEffect(()=>{let e=e=>{e.key===i&&(e.newValue?w(e.newValue):O(v))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[O]),t.useEffect(()=>{E(null!=n?n:k)},[n,k]);let D=t.useMemo(()=>({theme:k,setTheme:O,forcedTheme:n,resolvedTheme:"system"===k?M:k,themes:c?[...d,"system"]:d,systemTheme:c?M:void 0}),[k,O,n,M,c,d]);return t.createElement(r.Provider,{value:D},t.createElement(h,{forcedTheme:n,storageKey:i,attribute:g,enableSystem:c,enableColorScheme:l,defaultTheme:v,value:b,themes:d,nonce:y,scriptProps:C}),S)},h=t.memo(e=>{let{forcedTheme:s,storageKey:a,attribute:o,enableSystem:r,enableColorScheme:c,defaultTheme:l,value:i,themes:u,nonce:d,scriptProps:h}=e,m=JSON.stringify([o,a,l,s,u,i,r,c]).slice(1,-1);return t.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?d:"",dangerouslySetInnerHTML:{__html:"(".concat(n.toString(),")(").concat(m,")")}})}),m=(e,t)=>{let n;if(!o){try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},f=e=>(e||(e=window.matchMedia(a)),e.matches?"dark":"light")},37503,64361,29650,31485,e=>{"use strict";e.s(["useAIWebSocket",()=>f,"useAllWebSockets",()=>b,"useBPMWebSocket",()=>v,"useUCWebSocket",()=>g],37503);var t=e.i(27790);e.s(["useWebSocketStore",()=>h],31485),e.s(["create",()=>o],64361);let n=e=>{let t,n=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,o={setState:s,getState:a,getInitialState:()=>r,subscribe:e=>(n.add(e),()=>n.delete(e))},r=t=e(s,a,o);return o},s=e=>e,a=e=>{let a=(e=>e?n(e):n)(e),o=e=>(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,a=t.default.useSyncExternalStore(e.subscribe,t.default.useCallback(()=>n(e.getState()),[e,n]),t.default.useCallback(()=>n(e.getInitialState()),[e,n]));return t.default.useDebugValue(a),a})(a,e);return Object.assign(o,a),o},o=e=>e?a(e):a;e.s(["devtools",()=>i],29650);let r={get url(){return`file://${e.P("kosty_lct_frontend/node_modules/zustand/esm/middleware.mjs")}`}},c=new Map,l=e=>{let t=c.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(e=>{let[t,n]=e;return[t,n.getState()]})):{}},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,s,a)=>{let o,{enabled:i,anonymousActionType:d,store:h,...m}=t;try{o=(null!=i?i:(r.env?r.env.MODE:void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!o)return e(n,s,a);let{connection:p,...f}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};let s=c.get(n.name);if(s)return{type:"tracked",store:e,...s};let a={connection:t.connect(n),stores:{}};return c.set(n.name,a),{type:"tracked",store:e,...a}})(h,o,m),v=!0;a.setState=(e,t,o)=>{let r=n(e,t);if(!v)return r;let c=void 0===o?{type:d||(e=>{var t,n;if(!e)return;let s=e.split("\n"),a=s.findIndex(e=>e.includes("api.setState"));if(a<0)return;let o=(null==(t=s[a+1])?void 0:t.trim())||"";return null==(n=/.+ (.+) .+/.exec(o))?void 0:n[1]})(Error().stack)||"anonymous"}:"string"==typeof o?{type:o}:o;return void 0===h?null==p||p.send(c,s()):null==p||p.send({...c,type:"".concat(h,"/").concat(c.type)},{...l(m.name),[h]:a.getState()}),r},a.devtools={cleanup:()=>{p&&"function"==typeof p.unsubscribe&&p.unsubscribe(),((e,t)=>{if(void 0===t)return;let n=c.get(e);n&&(delete n.stores[t],0===Object.keys(n.stores).length&&c.delete(e))})(m.name,h)}};let g=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let a=v;v=!1,n(...t),v=a},b=e(a.setState,s,a);if("untracked"===f.type?null==p||p.init(b):(f.stores[f.store]=a,null==p||p.init(Object.fromEntries(Object.entries(f.stores).map(e=>{let[t,n]=e;return[t,t===f.store?b:n.getState()]})))),a.dispatchFromDevtools&&"function"==typeof a.dispatch){let e=!1,t=a.dispatch;a.dispatch=function(){for(var n=arguments.length,s=Array(n),a=0;a<n;a++)s[a]=arguments[a];(r.env?r.env.MODE:void 0)==="production"||"__setState"!==s[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...s)}}return p.subscribe(e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload)return void console.error("[zustand devtools middleware] Unsupported action format");return u(e.payload,e=>{if("__setState"===e.type){if(void 0===h)return void g(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');let t=e.state[h];return void(null==t||JSON.stringify(a.getState())!==JSON.stringify(t)&&g(t))}a.dispatchFromDevtools&&"function"==typeof a.dispatch&&a.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":if(g(b),void 0===h)return null==p?void 0:p.init(a.getState());return null==p?void 0:p.init(l(m.name));case"COMMIT":if(void 0===h){null==p||p.init(a.getState());break}return null==p?void 0:p.init(l(m.name));case"ROLLBACK":return u(e.state,e=>{if(void 0===h){g(e),null==p||p.init(a.getState());return}g(e[h]),null==p||p.init(l(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return u(e.state,e=>{if(void 0===h)return void g(e);JSON.stringify(a.getState())!==JSON.stringify(e[h])&&g(e[h])});case"IMPORT_STATE":{let{nextLiftedState:n}=e.payload,s=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!s)return;void 0===h?g(s):g(s[h]),null==p||p.send(null,n);break}case"PAUSE_RECORDING":return v=!v}return}}),b}},u=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)},d={aiData:[],aiStatus:"disconnected",lastAIMessage:null,bpmData:[],bpmStatus:"disconnected",lastBPMMessage:null,ucData:[],ucStatus:"disconnected",lastUCMessage:null},h=o()(i(e=>({...d,addAIMessage:t=>e(e=>{let n=[...e.aiData,t];return{aiData:n.length>1e3?n.slice(n.length-1e3):n,lastAIMessage:t}}),setAIStatus:t=>e({aiStatus:t}),clearAIData:()=>e({aiData:[],lastAIMessage:null}),addBPMMessage:t=>e(e=>{let n=[...e.bpmData,t];return{bpmData:n.length>1e3?n.slice(n.length-1e3):n,lastBPMMessage:t}}),setBPMStatus:t=>e({bpmStatus:t}),clearBPMData:()=>e({bpmData:[],lastBPMMessage:null}),addUCMessage:t=>e(e=>{let n=[...e.ucData,t];return{ucData:n.length>1e3?n.slice(n.length-1e3):n,lastUCMessage:t}}),setUCStatus:t=>e({ucStatus:t}),clearUCData:()=>e({ucData:[],lastUCMessage:null}),clearAllData:()=>e({aiData:[],lastAIMessage:null,bpmData:[],lastBPMMessage:null,ucData:[],lastUCMessage:null}),resetAllStatuses:()=>e({aiStatus:"disconnected",bpmStatus:"disconnected",ucStatus:"disconnected"})}),{name:"websocket-store"}));var m=e.i(73246),p=e.i(30235);function f(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,t.useRef)(null),{addAIMessage:s,setAIStatus:a,aiStatus:o}=h(),r=(0,t.useCallback)(e=>{s(e)},[s]),c=(0,t.useCallback)(e=>{a("open"===e?"connected":"error"===e?"error":"disconnected")},[a]),l=(0,t.useCallback)(()=>{n.current||(n.current=(0,m.createAISocket)(p.appConfig.websocket.ai,r,void 0,c)),n.current.connect()},[r,c]),i=(0,t.useCallback)(()=>{var e;null==(e=n.current)||e.disconnect()},[]);return(0,t.useEffect)(()=>(e&&l(),()=>{i()}),[e,l,i]),{connect:l,disconnect:i,status:o,isConnected:"connected"===o}}function v(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,t.useRef)(null),{addBPMMessage:s,setBPMStatus:a,bpmStatus:o}=h(),r=(0,t.useCallback)(e=>{s(e)},[s]),c=(0,t.useCallback)(e=>{a("open"===e?"connected":"error"===e?"error":"disconnected")},[a]),l=(0,t.useCallback)(()=>{n.current||(n.current=(0,m.createBPMSocket)(p.appConfig.websocket.bpm,r,void 0,c)),n.current.connect()},[r,c]),i=(0,t.useCallback)(()=>{var e;null==(e=n.current)||e.disconnect()},[]);return(0,t.useEffect)(()=>(e&&l(),()=>{i()}),[e,l,i]),{connect:l,disconnect:i,status:o,isConnected:"connected"===o}}function g(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,t.useRef)(null),{addUCMessage:s,setUCStatus:a,ucStatus:o}=h(),r=(0,t.useCallback)(e=>{s(e)},[s]),c=(0,t.useCallback)(e=>{a("open"===e?"connected":"error"===e?"error":"disconnected")},[a]),l=(0,t.useCallback)(()=>{n.current||(n.current=(0,m.createUCSocket)(p.appConfig.websocket.uc,r,void 0,c)),n.current.connect()},[r,c]),i=(0,t.useCallback)(()=>{var e;null==(e=n.current)||e.disconnect()},[]);return(0,t.useEffect)(()=>(e&&l(),()=>{i()}),[e,l,i]),{connect:l,disconnect:i,status:o,isConnected:"connected"===o}}function b(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=f(e),s=v(e),a=g(e),o=(0,t.useCallback)(()=>{n.connect(),s.connect(),a.connect()},[n,s,a]),r=(0,t.useCallback)(()=>{n.disconnect(),s.disconnect(),a.disconnect()},[n,s,a]),c=n.isConnected&&s.isConnected&&a.isConnected;return{ai:n,bpm:s,uc:a,connectAll:o,disconnectAll:r,allConnected:c}}},78931,e=>{"use strict";e.s(["useSlidingWindow",()=>n]);var t=e.i(27790);function n(e,n){let{windowSize:s,maxPoints:a}=n,[o,r]=(0,t.useState)(0),c=(0,t.useMemo)(()=>{if(0===e.length)return[];let t=Date.now()/1e3-s,n=e.filter(e=>e.time_sec>=t);return n.length>a?n.slice(-a):n},[e,s,a]),l=(0,t.useCallback)(()=>{r(Date.now()/1e3)},[]),i=(0,t.useMemo)(()=>{if(0===c.length)return[[],[]];let e=c[0].time_sec;return[c.map(t=>t.time_sec-e),c.map(e=>e.value)]},[c]);return{windowData:c,chartData:i,currentTime:o,updateTime:l,windowSize:s,dataCount:c.length}}},82873,e=>{"use strict";e.s(["StoreProvider",()=>n]);var t=e.i(11471);function n(e){let{children:n}=e;return(0,t.jsx)(t.Fragment,{children:n})}},141,e=>{"use strict";e.s(["ThemeProvider",()=>s]);var t=e.i(11471),n=e.i(71470);function s(e){let{children:s,...a}=e;return(0,t.jsx)(n.ThemeProvider,{...a,children:s})}}]);